<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rinoj. | UX Designer</title>
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <!-- SEO Meta Tags -->
    <meta name="description" content="Portfolio of Mohamed Rinoj Hashim, a Senior UX Designer with 4+ years of experience in India, UAE, and US markets, specializing in B2B platforms.">
    <meta property="og:title" content="Mohamed Rinoj Hashim | Senior UX Designer Portfolio" />
    <meta property="og:description" content="Transforming complex business challenges into intuitive, user-centered digital experiences that drive measurable results.">
    <meta property="og:image" content="https://placehold.co/1200x630/111111/EAEAEA?text=MRH" />
    <meta name="twitter:card" content="summary_large_image" />

    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollToPlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <!-- Fonts -->
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@400,500,700,900&display=swap" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        :root {
            /* Color Palette */
            --bg-gradient-start: #000833;
            --bg-gradient-end: #0C56B7;
            --text-primary: #EAEAEA;
            --text-secondary: #A0A0A0;
            --border-color: #333333;
            --accent-color: #22d3ee;
            --animation-easing: cubic-bezier(0.25, 1, 0.5, 1);
        }

        html, body {
            overflow-x: hidden;
            min-height: 100dvh;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none;  /* IE and Edge */
        }
        html::-webkit-scrollbar, body::-webkit-scrollbar { 
            display: none; /* Safari and Chrome */
        }

        body {
            font-family: 'Satoshi', sans-serif;
            background-color: var(--bg-gradient-end); /* Sets the base to the gradient's blue */
            color: var(--text-primary);
            cursor: none;
        }

        #hero-gradient-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;    /* Use viewport width for perfect coverage */
            height: 100dvh;  /* Use dynamic viewport height for mobile */
            z-index: -1;
        }

        #home, #story-pin-container {
            height: 100dvh;
        }

        header {
            background-color: transparent;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            transition: background-color 0.4s var(--animation-easing);
        }
        
        #page-content {
            position: relative;
            z-index: 10;
        }

        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1e1f1f;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .cursor {
            width: 24px;
            height: 24px;
            border: 1px solid white;
            border-radius: 50%;
            position: fixed;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 10003; /* Ensure cursor is on top of everything */
            mix-blend-mode: difference;
            transition: width 0.3s ease, height 0.3s ease, background-color 0.3s ease;
        }
        .cursor.hovered {
            width: 60px;
            height: 60px;
            background-color: white;
        }
        .cursor.project-hover {
            width: 80px;
            height: 80px;
            background-color: white;
            border: none;
        }
        .cursor-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: black;
            font-size: 12px;
            font-weight: 500;
        }
        
        .reveal, .project-item, .nav-link-hover, .story-panel img, #mobile-menu-panel {
            will-change: transform, opacity;
        }
        
        .reveal {
            opacity: 0;
            transform: translateY(60px);
        }

        .tagline-word {
            display: inline-block;
        }
        
        .star-separator {
            animation: rotate-star 10s linear infinite;
        }
        @keyframes rotate-star {
            from { transform: rotate(0deg); } to { transform: rotate(360deg); }
        }
        
        .project-item {
            border-bottom: 1px solid var(--accent-color);
            transform: translateX(-100%);
            opacity: 0;
            cursor: pointer; /* Change cursor to pointer */
            display: block;
            transition: background-color 0.3s ease;
        }
        .project-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        .project-item:nth-child(even) {
            transform: translateX(100%);
        }

        .project-item:last-child {
            border-bottom: none;
        }
        .project-image-preview {
            position: absolute;
            top: 0;
            left: 0;
            width: 300px;
            height: 200px;
            object-fit: cover;
            border-radius: 0.75rem;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.8);
            z-index: 1;
        }
        .project-item:last-of-type {
             border-bottom: 1px solid var(--accent-color);
        }
        .hidden-project {
            display: none;
        }

        #project-detail-page {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1e1f1f;
            z-index: 10001;
            display: none;
        }

        /* Styles for Tool Logos */
        .tool-logo-item {
            flex-shrink: 0;
            padding: 0 2rem;
        }
        .tool-logo-item img {
            height: 64px; /* Default size for MOBILE */
            width: auto;
            object-fit: contain;
            transition: transform 0.3s var(--animation-easing);
        }
        
        @media (min-width: 768px) {
            .tool-logo-item img {
                height: 80px; /* Size for DESKTOP */
            }
        }
        /* Removed scale on hover */
        .tool-logo-item:hover img {
            transform: scale(1);
        }


        /* Styles for Story Section */
        #story-track {
            display: flex;
            align-items: center;
        }
        .story-panel {
            flex-shrink: 0;
            width: 70vw;
            max-width: 600px;
        }
        .story-panel img {
            width: 100%;
            height: auto;
            aspect-ratio: 5 / 3;
            object-fit: cover;
            transition: filter 0.5s var(--animation-easing), transform 0.5s var(--animation-easing);
            filter: grayscale(100%);
            transform: scale(0.95);
        }
        .story-panel.is-active img {
            filter: grayscale(0%);
            transform: scale(1.05);
        }
        .story-text-item {
            position: absolute;
            opacity: 0;
            transform: translateY(15px);
            transition: opacity 0.4s ease-in-out, transform 0.4s ease-in-out;
        }
        .story-text-item.is-active {
            opacity: 1;
            transform: translateY(0px);
        }

        /* Microinteractions */
        .nav-link-hover {
            transition: transform 0.3s var(--animation-easing), color 0.3s var(--animation-easing);
        }
        .nav-link-hover:hover {
            transform: translateY(-2px);
            color: #67e8f9; /* Tailwind cyan-300 */
        }
        
        /* Clean CTA Styles */
        .clean-cta {
            position: relative;
            overflow: hidden;
            transition: transform 0.3s var(--animation-easing), background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        }

        .clean-cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 75%;
            height: 100%;
            background: linear-gradient(110deg, rgba(255, 255, 255, 0) 40%, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0) 60%);
            transform: skewX(-25deg);
            transition: left 0.8s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .clean-cta:hover::before {
            left: 125%;
        }

        /* Specific shimmer for primary CTA */
        .cta-primary::before {
            background: linear-gradient(110deg, rgba(103, 232, 249, 0) 30%, rgba(103, 232, 249, 0.5), rgba(103, 232, 249, 0) 70%);
        }
        
        .cta-primary {
            background-color: white;
            color: #1e1f1f;
        }

        .cta-primary:hover {
            transform: scale(1.05);
        }

        .cta-secondary {
            background-color: transparent;
            border: 1px solid rgba(255, 255, 255, 0.5);
            color: var(--text-primary);
        }

        .cta-secondary:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.8);
            transform: scale(1.05);
        }
        
        .underline-link {
            background: linear-gradient(to right, var(--text-primary), var(--text-primary));
            background-size: 0% 1px;
            background-repeat: no-repeat;
            background-position: left bottom;
            transition: background-size 0.4s ease, color 0.3s ease;
            padding-bottom: 4px;
            color: var(--text-primary);
        }
        
        .underline-link:hover {
            background-size: 100% 1px;
        }

        #go-to-top-btn {
            transition: opacity 0.4s, transform 0.4s;
        }
        #go-to-top-btn.is-active {
            opacity: 1;
            pointer-events: auto;
        }

        #go-to-top-btn:hover {
            transform: scale(1.1);
        }
        #go-to-top-btn .scroll-to-top-text {
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            fill: white;
        }

        #go-to-top-btn .rotating-text-g {
            transform-origin: center;
            animation: rotate-text 20s linear infinite;
        }
        
        @keyframes rotate-text {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @media (prefers-reduced-motion: reduce) {
          .reveal, .project-item, .marquee-content, .cursor, .preloader, .star-separator, .rotating-text-g {
            transition: none !important; 
            animation: none !important;
          }
        }
    </style>
</head>
<body class="antialiased">
    <div id="scrollbar-progress" class="fixed top-0 left-0 h-1.5 z-[60]" style="width: 0%; background-color: var(--accent-color);"></div>
    <canvas id="hero-gradient-background"></canvas>
    <div class="preloader">
        <div class="preloader-logo text-2xl font-bold" style="color: #FFFFFF;">Rinoj<span style="color: var(--accent-color);">.</span></div>
    </div>
    <div class="cursor"><div class="cursor-text"></div></div>

    <!-- Header & Navigation -->
    <header id="header" class="fixed top-6 left-6 right-6 z-50 rounded-full">
        <div class="pl-6 pr-4 py-1 flex justify-between items-center">
            <div class="flex-1 flex justify-start">
                 <a href="/" class="text-2xl font-bold whitespace-nowrap" style="color: #FFFFFF;">Rinoj<span style="color: var(--accent-color);">.</span></a>
            </div>
            
            <div class="flex-1 hidden md:flex justify-end items-center space-x-8">
                <nav class="flex items-center space-x-4" aria-label="Primary Navigation">
                    <a href="#story" class="nav-link-hover text-base font-medium px-3 py-1" style="color: var(--text-primary);">My Story</a>
                    <a href="#work" class="nav-link-hover text-base font-medium px-3 py-1" style="color: var(--text-primary);">Projects</a>
                    <a href="#" class="nav-link-hover text-base font-medium px-3 py-1" style="color: var(--text-primary);">Resume</a>
                </nav>
                <a href="#contact" class="clean-cta cta-primary font-semibold px-5 py-[6px] rounded-full transition-all duration-300 whitespace-nowrap">Contact me</a>
            </div>

            <div class="md:hidden flex-1 flex justify-end">
                <button id="mobile-menu-button" class="p-2 rounded-full" aria-label="Open menu">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </div>
    </header>

    <main id="main-content" role="main">
        <!-- Hero Section -->
        <section id="home" class="flex flex-col items-center justify-start text-center p-6 md:p-12 relative overflow-hidden">
            <div id="hero-tagline" class="z-20 text-white px-6 pointer-events-none pt-20 md:pt-16">
                <div class="max-w-4xl mx-auto">
                    <h1 class="text-3xl md:text-4xl font-bold leading-tight">
                        <span class="tagline-word">DESIGN INTUITIVE WORKFLOWS THAT TURN</span><br> <span class="tagline-word">COMPLEX PRODUCTS INTO SIMPLE,</span><br> <span class="tagline-word">HUMAN-CENTRED EXPERIENCES.</span>
                    </h1>
                    <p class="text-lg md:text-xl font-medium mt-6 max-w-2xl mx-auto" style="color: var(--text-primary);">
                        <span class="tagline-word">Blending</span> <span class="tagline-word">Design,</span> <span class="tagline-word">Research</span> <span class="tagline-word">and</span> <span class="tagline-word">AI</span> <span class="tagline-word">to</span> <span class="tagline-word">craft</span> <span class="tagline-word">user-friendly</span> <span class="tagline-word">digital</span> <span class="tagline-word">products.</span>
                    </p>
                    <div id="hero-ctas" class="mt-10 flex flex-row items-center justify-center gap-10 pointer-events-auto">
                        <a href="#contact" class="clean-cta cta-primary font-semibold text-sm sm:text-base px-8 sm:px-10 py-2 sm:py-2.5 rounded-full whitespace-nowrap magnetic-item">Let's Talk</a>
                        <a href="#" class="clean-cta cta-secondary font-semibold text-sm sm:text-base px-6 sm:px-8 py-2 sm:py-2.5 rounded-full whitespace-nowrap magnetic-item">Resume</a>
                    </div>
                </div>
            </div>

             <div class="absolute bottom-0 left-0 right-0 z-10 pb-10 md:pb-0">
                 <div class="name-marquee-container flex whitespace-nowrap items-center">
                     <div class="marquee-content-wrapper flex-shrink-0 flex items-center">
                         <span class="text-[12vw] md:text-[6.5vw] text-white select-none px-6">
                             <span class="font-black">Mohamed Rinoj Hashim</span>
                             <span class="font-semibold"> | UX / Product Designer | Ex-Fintech & E-Commerce</span>
                         </span>
                         <span class="px-4 inline-flex items-center justify-center">
                             <svg class="star-separator w-[6vw] md:w-[4vw] h-[6vw] md:h-[4vw] text-white" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Separator"><path d="M50 0L61.226 38.774L100 50L61.226 61.226L50 100L38.774 61.226L0 50L38.774 38.774L50 0Z"/></svg>
                         </span>
                     </div>
                 </div>
             </div>
        </section>
        
        <div id="page-content">
            <!-- Story Section -->
            <section id="story" class="relative">
                <div id="story-pin-container" class="w-full">
                    <!-- Text content positioned at the top of the viewport -->
                    <div class="absolute top-0 left-0 right-0 pt-32 md:pt-40 z-10 pointer-events-none">
                        <div class="w-full px-6 md:px-12">
                            <div class="grid grid-cols-1 md:grid-cols-6 gap-x-8">
                                
                                <div class="md:col-span-2">
                                    <h3 id="story-subtitle" class="text-3xl md:text-5xl font-bold">The Graduation</h3>
                                </div>
                                
                                <div id="story-text-container" class="md:col-span-4 relative min-h-[10rem] md:min-h-0 mt-4 md:mt-0">
                                    <div class="story-text-item">
                                        <p class="text-xl text-white">It all starts with a single idea. A spark of curiosity that leads to sketching, planning, and laying the digital foundation.</p>
                                    </div>
                                    <div class="story-text-item">
                                        <p class="text-xl text-white">Collaboration is at the heart of my process. I believe the best ideas are born from shared perspectives and open discussions.</p>
                                    </div>
                                    <div class="story-text-item">
                                        <p class="text-xl text-white">From wireframes to high-fidelity prototypes, I focus on crafting clean, intuitive interfaces that are both beautiful and functional.</p>
                                    </div>
                                    <div class="story-text-item">
                                        <p class="text-xl text-white">Dedication goes beyond the 9-to-5. I thrive on the challenge of solving complex problems and getting every detail just right.</p>
                                    </div>
                                    <div class="story-text-item">
                                        <p class="text-xl text-white">Usability testing provides invaluable insights that data alone can't reveal, leading to more human-centered designs.</p>
                                    </div>
                                    <div class="story-text-item">
                                        <p class="text-xl text-white">The end goal is to launch a product that not only looks great but performs flawlessly, creating a seamless bridge between technology and the user.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Image track positioned at the bottom of the viewport -->
                    <div class="absolute bottom-[-10%] left-0 w-full h-[60vh]">
                        <div id="story-track" class="absolute top-0 h-full flex items-center space-x-8">
                            <div class="story-panel" data-title="The Graduation">
                                <img src="assets/graduation.webp" class="rounded-lg" alt="A graduate celebrating by throwing his cap in the air.">
                            </div>
                            <div class="story-panel" data-title="My First Work">
                                <img src="assets/firstwork.webp" class="rounded-lg" alt="Overnight conference call with US Client.">
                            </div>
                            <div class="story-panel" data-title="In Dubai">
                                <img src="assets/dubai.webp" class="rounded-lg" alt="Looking out window from My Office in Dubai.">
                            </div>
                            <div class="story-panel" data-title="Hybrid">
                                <img src="assets/hybrid.webp" class="rounded-lg" alt="Working in Laptop from Airport with Cold Coffee in hand.">
                            </div>
                            <div class="story-panel" data-title="Brainstorming">
                                <img src="assets/brainstorming.webp" class="rounded-lg" alt="Brainstorming about a B2B login with laptop in desk.">
                            </div>
                            <div class="story-panel" data-title="What is Next?">
                               <img src="assets/thenext.webp" class="rounded-lg" alt="In Flight looking sideways with confidence.">
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section id="work" class="py-12 md:py-24">
                <div class="container mx-auto px-6 md:px-12">
                    <div class="mb-16 reveal text-center md:text-left">
                        <h2 class="text-4xl md:text-5xl font-bold">Projects</h2>
                        <p class="text-lg mt-2" style="color: var(--text-secondary);">A selection of projects that shaped my journey.</p>
                    </div>
                    <div id="projects-container">
                        <!-- Projects will be dynamically inserted here -->
                    </div>
                    <div class="w-full h-[1px] bg-[var(--accent-color)] reveal"></div>
                    <div id="more-projects-container" class="text-center mt-12 reveal">
                        <button id="show-more-btn" class="clean-cta cta-secondary font-semibold text-base px-8 py-2.5 rounded-full magnetic-item">More Projects</button>
                    </div>
                </div>
            </section>

            <!-- Tools Section -->
            <section id="skills" class="py-8 md:py-10 bg-black/10">
                <div id="tools-marquee-container" class="w-full flex flex-nowrap overflow-hidden [mask-image:_linear_gradient(to_right,transparent_0,_black_10%,_black_90%,transparent_100%)]">
                    <!-- Tool logos will be injected by JS -->
                </div>
            </section>
            
             <!-- Footer Section -->
            <footer id="contact" class="min-h-[70vh] bg-[#1C1C1C] text-white flex items-center justify-center py-12 md:py-16">
                <div class="container mx-auto px-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                        <div class="text-left">
                            <h2 class="text-5xl md:text-7xl font-bold leading-tight">
                                Let's create something great together.
                            </h2>
                            <a href="mailto:hello@mohamedrinoj.com" class="underline-link footer-magnetic-link mt-8 text-2xl md:text-3xl font-medium inline-block magnetic-item">
                                <span>hello@mohamedrinoj.com</span>
                            </a>
                        </div>
                        <div class="text-left md:text-right flex flex-col justify-between">
                             <div class="footer-anim">
                                 <h3 class="text-lg font-semibold text-cyan-400 mb-4">Social</h3>
                                 <ul class="space-y-2">
                                     <li><a href="#" class="underline-link footer-magnetic-link text-lg inline-block magnetic-item">LinkedIn</a></li>
                                     <li><a href="#" class="underline-link footer-magnetic-link text-lg inline-block magnetic-item">Behance</a></li>
                                 </ul>
                                 <div class="mt-8">
                                     <h3 class="text-lg font-semibold text-cyan-400 mb-2">Contact</h3>
                                     <a href="tel:+917012450190" class="underline-link footer-magnetic-link text-lg inline-block magnetic-item">+91 7012 450 190</a>
                                 </div>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </main>
    
    <!-- Go To Top Button -->
    <button id="go-to-top-btn" class="fixed bottom-8 right-8 z-50 w-24 h-24 opacity-0 pointer-events-none">
        <svg viewBox="0 0 100 100">
            <defs>
                <path id="circlePath" d="M 50, 50 m -40, 0 a 40,40 0 1,1 80,0 a 40,40 0 1,1 -80,0"/>
            </defs>
            <g class="rotating-text-g">
                <text class="scroll-to-top-text">
                    <textPath xlink:href="#circlePath">
                    • Scroll to top • Scroll to top
                    </textPath>
                </text>
            </g>
            <path class="scroll-to-top-arrow" d="M50 58 V42 M44 48 l6 -6 l6 6" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </button>
    
    <!-- Project Detail Page Transition Overlay -->
    <div id="project-detail-page"></div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-[#1e1f1f] bg-opacity-50 z-[9990] hidden" role="dialog" aria-modal="true">
        <div id="mobile-menu-panel" class="absolute top-0 right-0 h-full w-2/3 max-w-sm bg-[#1e1f1f]/95 backdrop-blur-lg shadow-2xl p-8 transform translate-x-full">
            <button id="mobile-close-button" class="absolute top-6 right-6 p-2" aria-label="Close menu">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <nav class="flex flex-col items-end space-y-4 mt-20 text-2xl font-bold text-right" aria-label="Mobile Navigation">
                <a href="#story" class="mobile-nav-link opacity-0">My Story</a>
                <a href="#work" class="mobile-nav-link opacity-0">Projects</a>
                <a href="#" class="mobile-nav-link opacity-0">Resume</a>
                <a href="#contact" class="mobile-nav-link-cta clean-cta cta-primary mt-8 px-5 py-2 rounded-full text-xl font-bold opacity-0">Contact Me</a>
            </nav>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Restore scroll position if it exists
            const scrollPos = sessionStorage.getItem('scrollPos');
            if (scrollPos) {
                window.scrollTo(0, parseInt(scrollPos));
                sessionStorage.removeItem('scrollPos');
            } else {
                history.scrollRestoration = 'manual';
                window.scrollTo(0, 0);
            }

            gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);
            const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)');

            // --- 0. GENERAL SETUP ---
            const progressBar = document.getElementById('scrollbar-progress');
            gsap.to(progressBar, {
                width: "100%",
                ease: "none",
                scrollTrigger: {
                    trigger: document.body,
                    start: "top top",
                    end: "bottom bottom",
                    scrub: 0.3
                }
            });

            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    if (href && href.startsWith('#')) {
                        e.preventDefault();
                        let target = document.querySelector(href);
                        if(target) {
                            if (document.getElementById('mobile-menu').classList.contains('hidden') === false) {
                                closeMobileMenu();
                            }
                            gsap.to(window, {
                                scrollTo: { y: target, offsetY: 70 }, // offset for fixed header
                                duration: 1.5,
                                ease: 'power3.inOut'
                            });
                        }
                    }
                });
            });

            // --- 1. PRELOADER & INITIAL PAGE REVEAL ---
            const preloader = document.querySelector('.preloader');
            if (preloader) {
                const preloaderLogo = document.querySelector('.preloader-logo');
                const header = document.getElementById('header');
                const tagline = document.getElementById('hero-tagline');
                const heroCTAs = document.getElementById('hero-ctas');
                const marqueeContainer = document.querySelector('.name-marquee-container');
                const taglineWords = gsap.utils.toArray('.tagline-word');
                const ctaButtons = gsap.utils.toArray('#hero-ctas a');
            
                gsap.set([header, marqueeContainer, tagline, heroCTAs], { autoAlpha: 0 });
                gsap.set([header, marqueeContainer], { y: 80 });
                gsap.set(taglineWords, { opacity: 0, y: 20, rotationX: -30 });
                gsap.set(ctaButtons, { opacity: 0, y: 20 });

                gsap.to(preloaderLogo, {
                    scale: 1.1,
                    duration: 0.8,
                    repeat: -1,
                    yoyo: true,
                    ease: 'power1.inOut'
                });

                window.addEventListener('load', () => {
                    const tl = gsap.timeline({
                        onComplete: () => {
                            setupStorySectionAnimation();
                            ScrollTrigger.refresh();
                        }
                    });
                
                    tl.to(preloader, {
                        yPercent: -100,
                        duration: 1.2,
                        ease: 'power3.inOut',
                        delay: 0.4
                    });

                    tl.to([header, marqueeContainer, tagline, heroCTAs], {
                        autoAlpha: 1,
                    }, "-=1.0");

                    tl.to([header, marqueeContainer], {
                        y: 0,
                        duration: 1.2,
                        ease: 'power3.out',
                        stagger: 0.1
                    }, "-=1.0");

                    tl.to(taglineWords, {
                        opacity: 1,
                        y: 0,
                        rotationX: 0,
                        duration: 0.8,
                        stagger: 0.04,
                        ease: 'power3.out'
                    }, "-=0.8");

                    tl.to(ctaButtons, {
                        opacity: 1,
                        y: 0,
                        stagger: 0.15,
                        duration: 0.8,
                        ease: 'power3.out'
                    }, "-=0.6");

                    tl.call(() => {
                        preloader.remove();
                    });
                });
            }


            // --- 2. CUSTOM CURSOR ---
            const cursor = document.querySelector('.cursor');
            const cursorText = document.querySelector('.cursor-text');
            const interactiveElements = document.querySelectorAll('a, button');
            const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            
            if (isTouchDevice) {
                cursor.style.display = 'none';
            } else {
                window.addEventListener('mousemove', (e) => {
                    gsap.to(cursor, { x: e.clientX, y: e.clientY, duration: 0.3, ease: 'power2.out' });
                });

                interactiveElements.forEach(el => {
                    el.addEventListener('mouseenter', () => gsap.to(cursor, { scale: 2.5, backgroundColor: 'white', duration: 0.3 }));
                    el.addEventListener('mouseleave', () => gsap.to(cursor, { scale: 1, backgroundColor: 'transparent', duration: 0.3 }));
                });
            }

            // --- 3. SCROLL & HOVER ANIMATIONS ---
            if (!prefersReducedMotion.matches) {

                // a) Marquee Scroll Speed Animation
                const marqueeContainer = document.querySelector('.name-marquee-container');
                if (marqueeContainer) {
                    const contentWrapper = marqueeContainer.querySelector('.marquee-content-wrapper');
                    if (contentWrapper) {
                        marqueeContainer.appendChild(contentWrapper.cloneNode(true));
                        const marqueeParts = gsap.utils.toArray(marqueeContainer.children);

                        const marqueeAnimation = gsap.to(marqueeParts, {
                            xPercent: -100,
                            repeat: -1,
                            duration: 20,
                            ease: "linear",
                            modifiers: {
                                xPercent: gsap.utils.wrap(-100, 0)
                            }
                        });
                        
                        ScrollTrigger.create({
                            trigger: "body",
                            start: "top top",
                            end: "bottom bottom",
                            onUpdate: self => {
                                let direction = self.direction === 1 ? 1 : -1;
                                let velocity = self.getVelocity();
                                const sensitivity = direction === 1 ? 260 : 1300;
                                let timeScale = 1 + (Math.abs(velocity) / sensitivity) * direction;
                                timeScale = gsap.utils.clamp(-3, 5, timeScale); 
                                gsap.to(marqueeAnimation, { timeScale: timeScale, duration: 0.5, ease: "power2.out" });
                            }
                        });
                    }
                }
                
                // b) General Reveal Animations
                gsap.utils.toArray('.reveal').forEach(el => {
                    gsap.fromTo(el, { opacity: 0, y: 60 }, { 
                        opacity: 1, y: 0, duration: 1, ease: 'power2.out',
                        scrollTrigger: { 
                            trigger: el, 
                            start: 'top 90%', 
                            toggleActions: 'play none none none'
                        }
                    });
                });

            } else { // Fallback for reduced motion
                 gsap.utils.toArray('.reveal, .project-item').forEach(el => {
                     el.style.opacity = 1;
                     el.style.transform = 'none';
                 });
            }
            
            function setupStorySectionAnimation() {
                const storySection = document.getElementById('story');
                if (!storySection) return;
                const storyPinContainer = document.getElementById('story-pin-container');
                const storyTrack = document.getElementById('story-track');
                const storyPanels = gsap.utils.toArray(".story-panel");
                const storyTexts = gsap.utils.toArray(".story-text-item");
                const storySubtitle = document.getElementById("story-subtitle");

                if (!storyTrack || storyPanels.length === 0) return;

                gsap.set(storySection, { height: storyPanels.length * 100 + "vh" });
                
                let activePanelIndex = -1;

                const xStart = (window.innerWidth - storyPanels[0].offsetWidth) / 2;
                gsap.set(storyTrack, { x: xStart });

                storyPanels.forEach((panel, i) => panel.classList.toggle('is-active', i === 0));
                storyTexts.forEach((text, i) => text.classList.toggle('is-active', i === 0));
                if (storyPanels[0]) {
                    storySubtitle.innerText = storyPanels[0].dataset.title;
                }

                gsap.to(storyTrack, {
                    x: () => {
                        const lastPanel = storyPanels[storyPanels.length - 1];
                        return -(lastPanel.offsetLeft - (window.innerWidth - lastPanel.offsetWidth) / 2);
                    },
                    ease: "none",
                    scrollTrigger: {
                        trigger: storySection,
                        pin: storyPinContainer,
                        scrub: 1,
                        start: "top top",
                        end: "bottom bottom",
                        onUpdate: self => {
                            let centerPoint = window.innerWidth / 2;
                            let newActiveIndex = -1;
                            let smallestDistance = Infinity;

                            storyPanels.forEach((panel, index) => {
                                let panelRect = panel.getBoundingClientRect();
                                let panelCenter = panelRect.left + panelRect.width / 2;
                                let distance = Math.abs(panelCenter - centerPoint);

                                if (distance < panelRect.width / 2 && distance < smallestDistance) {
                                    smallestDistance = distance;
                                    newActiveIndex = index;
                                }
                            });

                            if (newActiveIndex !== -1 && newActiveIndex !== activePanelIndex) {
                                activePanelIndex = newActiveIndex;
                                storyPanels.forEach((panel, i) => panel.classList.toggle('is-active', i === activePanelIndex));
                                storyTexts.forEach((text, i) => text.classList.toggle('is-active', i === activePanelIndex));
                                if(storyPanels[activePanelIndex]){
                                    storySubtitle.innerText = storyPanels[activePanelIndex].dataset.title;
                                }
                            }
                        }
                    }
                });
            }

            // --- 4. MOBILE MENU LOGIC ---
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileMenuPanel = document.getElementById('mobile-menu-panel');
            const openButton = document.getElementById('mobile-menu-button');
            const closeButton = document.getElementById('mobile-close-button');

            function openMobileMenu() {
                mobileMenu.classList.remove('hidden');
                gsap.to(mobileMenuPanel, { x: 0, duration: 0.5, ease: 'power3.out' });
                gsap.fromTo('.mobile-nav-link, .mobile-nav-link-cta', 
                    { opacity: 0, x: 50 },
                    { opacity: 1, x: 0, duration: 0.5, stagger: 0.08, delay: 0.2, ease: 'power3.out' }
                );
            }

            function closeMobileMenu() {
                gsap.to(mobileMenuPanel, { 
                    x: '100%', 
                    duration: 0.5, 
                    ease: 'power3.in',
                    onComplete: () => {
                        mobileMenu.classList.add('hidden');
                        gsap.set('.mobile-nav-link, .mobile-nav-link-cta', { opacity: 0, x: 50 });
                    }
                });
            }

            openButton.addEventListener('click', openMobileMenu);
            closeButton.addEventListener('click', closeMobileMenu);
            mobileMenu.addEventListener('click', (e) => {
                if (e.target === mobileMenu) closeMobileMenu();
            });


            // --- 5. THREE.JS GRADIENT BACKGROUND ---
            let scene, camera, renderer, material;
            const gradientCanvas = document.getElementById('hero-gradient-background');
            if(gradientCanvas) {
                function initGradientBackground() {
                    scene = new THREE.Scene();
                    camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);
                    renderer = new THREE.WebGLRenderer({ canvas: gradientCanvas, antialias: true });
                
                    const geometry = new THREE.PlaneBufferGeometry(2, 2);
                    material = new THREE.ShaderMaterial({
                        uniforms: {
                            u_time: { value: 0 },
                            u_resolution: { value: new THREE.Vector2() },
                            u_color1: { value: new THREE.Color(0x0047AB) },
                            u_color2: { value: new THREE.Color(0x00008B) },
                        },
                        vertexShader: `
                            varying vec2 vUv;
                            void main() {
                                vUv = uv;
                                gl_Position = vec4(position, 1.0);
                            }
                        `,
                        fragmentShader: `
                            varying vec2 vUv;
                            uniform float u_time;
                            uniform vec3 u_color1;
                            uniform vec3 u_color2;
                            void main() {
                                vec2 p = vUv;
                                float blend = p.y + sin(u_time * 0.1 + p.x * 2.0) * 0.1;
                                vec3 color = mix(u_color1, u_color2, blend);
                                gl_FragColor = vec4(color, 1.0);
                            }
                        `,
                    });
                
                    const mesh = new THREE.Mesh(geometry, material);
                    scene.add(mesh);
                
                    onWindowResizeGradient();
                    window.addEventListener('resize', onWindowResizeGradient);
                    animateGradient();
                }

                function animateGradient() {
                    if (material) {
                        material.uniforms.u_time.value += 0.01;
                        renderer.render(scene, camera);
                    }
                    requestAnimationFrame(animateGradient);
                }

                function onWindowResizeGradient() {
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                    if (material) {
                        material.uniforms.u_resolution.value.set(window.innerWidth, window.innerHeight);
                    }
                }
            
                initGradientBackground();
            }


            // --- 6. DYNAMIC PROJECT INJECTION & ANIMATION ---
            const projects = [
                 { 
                    id: 'bankiom', 
                    title: 'Bankiom - Fintech Super-App', 
                    tags: ['AI Integration', 'Design Systems', 'User Journey Mapping'], 
                    image: 'https://images.unsplash.com/photo-1620714223084-86c9df242562?q=80&w=1770&auto=format&fit=crop',
                    href: 'project-bankiom.html'
                },
                { 
                    id: 'travion', 
                    title: 'Travion - B2B Travel Platform', 
                    tags: ['UX Research', 'UI Design', 'Prototyping'], 
                    image: 'https://images.unsplash.com/photo-1503220317375-aaad61436b1b?q=80&w=2070&auto=format&fit=crop',
                    href: 'project-travion.html'
                },
                { 
                    id: 'bhavanam', 
                    title: 'Bhavanam - Real Estate Platform', 
                    tags: ['Healthcare UX', 'Accessibility (WCAG)', 'Prototyping'], 
                    image: 'https://images.unsplash.com/photo-1576091160550-2173dba999ef?q=80&w=1770&auto=format&fit=crop',
                    href: 'project-bhavanam.html'
                },
                { 
                    id: 'ourshoppee', 
                    title: 'OurShoppee - E-Commerce Experience', 
                    tags: ['Conversion Optimization', 'A/B Testing', 'UI Design'], 
                    image: 'https://images.unsplash.com/photo-1555529771-83senvf59fc5efe?q=80&w=1887&auto=format&fit=crop',
                    href: 'project-ourshoppee.html'
                }
            ];

            const projectsContainer = document.getElementById('projects-container');
            if (projectsContainer) {
                projects.forEach((p, index) => {
                    const projectEl = document.createElement('div');
                    projectEl.className = 'project-item relative';
                    if (index >= 2) {
                        projectEl.classList.add('hidden-project');
                    }
                    projectEl.dataset.href = p.href; // Store href in data attribute
                    projectEl.innerHTML = `
                        <div class="py-10 flex justify-between items-center relative z-10 px-6 md:px-0">
                            <h3 class="text-2xl md:text-4xl font-bold">${p.title}</h3>
                            <span class="text-sm font-lg text-secondary hidden md:block">${p.tags.join(' / ')}</span>
                        </div>
                        <img src="${p.image}" data-src="${p.image}" class="project-image-preview">
                    `;
                    projectsContainer.appendChild(projectEl);

                    projectEl.addEventListener('click', (e) => {
                        e.preventDefault();
                        sessionStorage.setItem('scrollPos', window.scrollY);
                        
                        const projectImage = projectEl.querySelector('.project-image-preview');
                        const imageRect = projectImage.getBoundingClientRect();
                        
                        sessionStorage.setItem('transitionData', JSON.stringify({
                            title: p.title,
                            image: p.image,
                            rect: {
                                top: imageRect.top,
                                left: imageRect.left,
                                width: imageRect.width,
                                height: imageRect.height
                            }
                        }));

                        const projectDetailPage = document.getElementById('project-detail-page');

                        const tl = gsap.timeline({
                            onComplete: () => {
                                window.location.href = projectEl.dataset.href;
                            }
                        });
                        tl.set(projectDetailPage, { 
                            display: 'block',
                            clipPath: `circle(0% at 50% 50%)`
                        });
                        tl.to(projectDetailPage, {
                            clipPath: `circle(150% at 50% 50%)`,
                            duration: 1,
                            ease: 'power2.inOut'
                        });
                    });

                    if (!isTouchDevice) {
                        const previewImage = projectEl.querySelector('.project-image-preview');

                        projectEl.addEventListener('mouseenter', () => {
                            cursorText.textContent = "View";
                            gsap.to(cursor, { 
                                width: '80px', height: '80px',
                                backgroundColor: 'white', borderWidth: 0,
                                duration: 0.3 
                            });
                            gsap.to(previewImage, { opacity: 1, scale: 1, duration: 0.4, ease: 'power2.out' });
                        });

                        projectEl.addEventListener('mouseleave', () => {
                            cursorText.textContent = "";
                            gsap.to(cursor, { 
                                width: '24px', height: '24px',
                                backgroundColor: 'transparent', borderWidth: '1px',
                                duration: 0.3 
                            });
                            gsap.to(previewImage, { opacity: 0, scale: 0.8, duration: 0.4, ease: 'power2.out' });
                        });

                        projectEl.addEventListener('mousemove', (e) => {
                            const rect = projectEl.getBoundingClientRect();
                            gsap.to(previewImage, {
                                x: e.clientX - rect.left - (previewImage.width / 2),
                                y: e.clientY - rect.top - previewImage.height - 20,
                                duration: 0.8,
                                ease: 'power3.out'
                            });
                        });
                    }
                });
            }
            
            // --- 7. TOOLS MARQUEE ---
            const tools = [
                { name: 'Figma', logo: 'assets/tools/figma.png' }, { name: 'Adobe CC', logo: 'assets/tools/adobe.png' },
                { name: 'Notion', logo: 'assets/tools/notion.png' }, { name: 'Miro', logo: 'assets/tools/miro.png' },
                { name: 'Hotjar', logo: 'assets/tools/hotjar.png' }, { name: 'Github', logo: 'assets/tools/github.png' },
                { name: 'Canva', logo: 'assets/tools/canva.png' }, { name: 'HTML5', logo: 'assets/tools/html5.png' },
                { name: 'Gemini', logo: 'assets/tools/gemini.png' }, { name: 'ChatGPT', logo: 'assets/tools/chatgpt.png' },
                { name: 'Webflow', logo: 'assets/tools/webflow.png' }, { name: 'Sheets', logo: 'assets/tools/sheets.png' }
            ];
            const toolsMarqueeContainer = document.getElementById('tools-marquee-container');

            if (toolsMarqueeContainer) {
                const marqueeContent = document.createElement('div');
                marqueeContent.className = 'flex items-center flex-shrink-0';
                marqueeContent.innerHTML = tools.map(tool => 
                    `<div class="tool-logo-item" title="${tool.name}"><img src="${tool.logo}" onerror="this.onerror=null;this.src='https://placehold.co/150x40/1e1f1f/ffffff?text=${tool.name.replace(' ', '+')}';" alt="${tool.name} Logo"></div>`
                ).join('');
                
                toolsMarqueeContainer.appendChild(marqueeContent);
                toolsMarqueeContainer.appendChild(marqueeContent.cloneNode(true));

                if (!prefersReducedMotion.matches) {
                    let marqueeTween = gsap.to(toolsMarqueeContainer.children, {
                    xPercent: -100,
                    repeat: -1,
                    duration: 25,
                    ease: "linear",
                    modifiers: { xPercent: gsap.utils.wrap(-100, 0) }
                });
                // toolsMarqueeContainer.addEventListener('mouseenter', () => marqueeTween.timeScale(0.2));
                // toolsMarqueeContainer.addEventListener('mouseleave', () => marqueeTween.timeScale(1));
            }
        }
        
        // --- Show More Projects ---
        const showMoreBtn = document.getElementById('show-more-btn');
        if(showMoreBtn) {
            showMoreBtn.addEventListener('click', () => {
                const hiddenProjects = document.querySelectorAll('.hidden-project');
                hiddenProjects.forEach((project, index) => {
                    project.style.display = 'block'; // Or remove the class if it sets display:none
                    gsap.from(project, {
                        opacity: 0,
                        y: 50,
                        duration: 0.6,
                        ease: 'power3.out',
                        delay: index * 0.1
                    });
                });
                gsap.to(showMoreBtn, { opacity: 0, duration: 0.3, onComplete: () => showMoreBtn.style.display = 'none' });
            });
        }


            // --- 8. MAGNETIC EFFECT ---
            if (!isTouchDevice) {
                document.querySelectorAll('.magnetic-item').forEach(el => {
                    el.addEventListener('mousemove', (e) => {
                        const rect = el.getBoundingClientRect();
                        const x = e.clientX - rect.left - rect.width / 2;
                        const y = e.clientY - rect.top - rect.height / 2;
                        gsap.to(el, {
                            x: x * 0.4,
                            y: y * 0.4,
                            duration: 0.8,
                            ease: 'power3.out'
                        });
                    });
                    el.addEventListener('mouseleave', () => {
                        gsap.to(el, {
                            x: 0,
                            y: 0,
                            duration: 1,
                            ease: 'elastic.out(1, 0.3)'
                        });
                    });
                });
            }


            // --- 9. FOOTER & GO TO TOP ---
            const goToTopBtn = document.getElementById('go-to-top-btn');
            if (goToTopBtn) {
                 ScrollTrigger.create({
                    start: 200, // Show after scrolling 200px
                    end: "max",
                    toggleClass: { targets: goToTopBtn, className: "is-active" }
                });

                goToTopBtn.addEventListener('click', () => {
                    gsap.to(window, {
                        scrollTo: 0,
                        duration: 1.5,
                        ease: 'power3.inOut'
                    });
                });
            }
            
            // Re-run project reveal animation setup for elements that exist on the page
            if (!prefersReducedMotion.matches) {
                gsap.utils.toArray('.project-item').forEach(item => {
                    gsap.to(item, {
                        x: 0,
                        opacity: 1,
                        duration: 1.2,
                        ease: 'power3.out',
                        scrollTrigger: {
                            trigger: item,
                            start: 'top 90%',
                            toggleActions: 'play none none none'
                        }
                    });
                });
            }
        });
    </script>
</body>
</html>


